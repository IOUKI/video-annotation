{% extends 'layout.html' %}

{% block title %}
  圖表製作
{% endblock %}

{% block body %}
  <body>
    <section class="w-full">
      <!-- bar -->
      <div class="p-3 text-white flex justify-between items-center bg-gray-800 text-xl">
        <a href="/" class="px-3 py-1.5 hover:bg-gray-700 rounded-md duration-150">返回</a>
        <!-- 上傳檔案 -->
        <div class="flex space-x-3">
          <form class="max-w-sm flex">
            <label for="file-input" class="sr-only">Choose file</label>
            <input type="file" name="file-input" id="fileInput" class="block w-full border border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 file:bg-gray-50 file:border-0 file:me-4 file:py-3 file:px-4 dark:file:bg-neutral-700 dark:file:text-neutral-400" />
          </form>
          <button type="button" id="uploadButton" class="px-3 py-1.5 bg-gray-600 hover:bg-gray-400 rounded-md duration-150">上傳</button>
        </div>
      </div>
      <!-- content -->
      <div class="p-3">
        <div class="my-3">
          <h2 class="text-3xl font-bold">類別與顏色</h2>
          <div id="eventsDiv" class="grid grid-cols-6">
            <p class="text-xl font-bold">當前暫無類別</p>
          </div>
        </div>
        <div class="my-3 max-w-3xl">
          <h2 class="text-3xl font-bold">最大分鐘數 (移動滑條可調整最大時間顯示)</h2>
          <input type="text" id="maxMin" class="border-2 border-gray-900" readonly />
          <input 
            type="range" 
            class="w-full bg-transparent cursor-pointer appearance-none disabled:opacity-50 disabled:pointer-events-none focus:outline-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:-mt-0.5 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-[0_0_0_4px_rgba(37,99,235,1)] [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-150 [&::-webkit-slider-thumb]:ease-in-out [&::-webkit-slider-thumb]:dark:bg-neutral-700 [&::-moz-range-thumb]:w-2.5 [&::-moz-range-thumb]:h-2.5 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-4 [&::-moz-range-thumb]:border-blue-600 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:duration-150 [&::-moz-range-thumb]:ease-in-out [&::-webkit-slider-runnable-track]:w-full [&::-webkit-slider-runnable-track]:h-2 [&::-webkit-slider-runnable-track]:bg-gray-100 [&::-webkit-slider-runnable-track]:rounded-full [&::-webkit-slider-runnable-track]:dark:bg-neutral-700 [&::-moz-range-track]:w-full [&::-moz-range-track]:h-2 [&::-moz-range-track]:bg-gray-100 [&::-moz-range-track]:rounded-full" 
            id="chart-time-line-min-and-max-range-slider" 
            aria-orientation="horizontal" 
            value="0"
            min="0" 
            max="60" 
            step="5"
          />
        </div>
        <div>
          <button id="renderChartButton" class="px-3 py-1.5 flex items-center text-2xl bg-gray-500 hover:bg-gray-400 text-white rounded-md duration-150">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-magic" viewBox="0 0 16 16">
                <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707zM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1zM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707zM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0z" />
              </svg>
            </span>
            生成圖表
          </button>
        </div>
        <div id="chart"></div>
      </div>
    </section>
  </body>
{% endblock %}

{% block script %}
  <script type="module" src="static/js/chart.js"></script>
{% endblock %}
